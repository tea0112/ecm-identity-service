# ECM Identity Service Environment Configuration
# Copy this file to .env and update the values for your environment

# Application Configuration
SPRING_PROFILES_ACTIVE=dev
SERVER_PORT=8080

# Database Configuration
DATABASE_URL=jdbc:postgresql://localhost:5432/ecm_identity
DATABASE_USERNAME=ecm_user
DATABASE_PASSWORD=ecm_password

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=ecm_redis_password

# Security Configuration
ECM_SECURITY_JWT_SECRET=your-256-bit-secret-key-here-change-in-production-environment
ECM_SECURITY_JWT_ACCESS_TOKEN_EXPIRATION=900
ECM_SECURITY_JWT_REFRESH_TOKEN_EXPIRATION=2592000

# OAuth2 Configuration
SPRING_SECURITY_OAUTH2_AUTHORIZATIONSERVER_ISSUER=http://localhost:8080
SPRING_SECURITY_OAUTH2_AUTHORIZATIONSERVER_CLIENT_ECM_CLIENT_REGISTRATION_CLIENT_ID=ecm-client
SPRING_SECURITY_OAUTH2_AUTHORIZATIONSERVER_CLIENT_ECM_CLIENT_REGISTRATION_CLIENT_SECRET=ecm-secret

# Multi-tenancy Configuration
ECM_MULTITENANCY_ENABLED=true
ECM_MULTITENANCY_DEFAULT_TENANT=default
ECM_MULTITENANCY_HEADER_NAME=X-Tenant-ID

# Audit Configuration
ECM_AUDIT_ENABLED=true
ECM_AUDIT_CRYPTO_CHAIN_ENABLED=true
ECM_AUDIT_RETENTION_DAYS=2555

# WebAuthn Configuration
ECM_WEBAUTHN_RP_ID=localhost
ECM_WEBAUTHN_RP_NAME=ECM Identity Service
ECM_WEBAUTHN_RP_ORIGIN=http://localhost:8080

# Mail Configuration
SPRING_MAIL_HOST=smtp.gmail.com
SPRING_MAIL_PORT=587
SPRING_MAIL_USERNAME=your-email@gmail.com
SPRING_MAIL_PASSWORD=your-app-password
SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE=true

# Monitoring Configuration
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,metrics,info,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when_authorized
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# Logging Configuration
LOGGING_LEVEL_COM_ECM_SECURITY_IDENTITY=INFO
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY=WARN
LOGGING_LEVEL_ORG_HIBERNATE_SQL=WARN

# Development/Testing Configuration
SPRING_JPA_SHOW_SQL=false
SPRING_JPA_HIBERNATE_DDL_AUTO=validate
SPRING_FLYWAY_ENABLED=true
SPRING_FLYWAY_BASELINE_ON_MIGRATE=true

# Docker Configuration (for docker-compose)
POSTGRES_DB=ecm_identity
POSTGRES_USER=ecm_user
POSTGRES_PASSWORD=ecm_password

# Test Configuration (for integration tests)
TESTCONTAINERS_REUSE_ENABLE=false
